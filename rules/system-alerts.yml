groups:
- name: website-alerts
  rules:
  - alert: WebsiteDown
    expr: probe_success == 0
    for: 1m
    labels:
      severity: critical
    annotations:
      summary: "Website {{ $labels.instance }} is down"
      description: "Website {{ $labels.instance }} has been down for more than 1 minute"

  - alert: HighResponseTime
    expr: probe_duration_seconds > 3
    for: 2m
    labels:
      severity: warning
    annotations:
      summary: "High response time on {{ $labels.instance }}"
      description: "Response time is {{ $value }}s on {{ $labels.instance }}"

  - alert: SSLCertExpiringSoon
    expr: probe_ssl_earliest_cert_expiry - time() < 86400 * 30
    for: 1m
    labels:
      severity: warning
    annotations:
      summary: "SSL certificate expiring soon"
      description: "SSL certificate for {{ $labels.instance }} expires in less than 30 days"